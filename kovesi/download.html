<!DOCTYPE html>
<html>
<head>
<title>Image Segmentation using SLIC SuperPixels and DBSCAN Clustering</title>
<link rel="StyleSheet" href="articlestyle.css" type="text/css" media="screen" />
</head>
<body>


<p>&nbsp; <img align="right" src="CETlogoSml.png" width="300">

<p>
<br>
<br>
<br>
<br>
<br>
<br>

<center>
<h1>Image Segmentation using <p>SLIC SuperPixels<p> and DBSCAN Clustering</h1>

<h3>Peter Kovesi
<br>Image Analysis Group
<br>Centre for Exploration Targeting
<br> The University of Western Australia </h3>
<p> <b>April 2013</b>
</center>
<hr>

<p align="justify">
This segmentation approach makes use of Achanta et al's SLIC
superpixels and the DBSCAN clustering algorithm.  Application of the
SLIC superpixel algorithm forms an over-segmentation of an image.
These superpixels are then processed using the DBSCAN algorithm to
form clusters of superpixels to generate the final segmentation.  The
approach is simple and relatively fast.

<p align="justify">
The speed of the DBSCAN clustering process is greatly facilitated by
forming an adjacency matrix of the regions produced by the
super-pixelization process.  This constrains the number of distance
measurement tests required


<h3>References:</h3>
<ul>
<li>R. Achanta, A. Shaji, K. Smith, A. Lucchi, P. Fua and
S. Susstrunk. "SLIC Superpixels Compared to State-of-the-Art
Superpixel Methods" PAMI. Vol 34 No 11.  November 2012. pp 2274-2281.

<li> Martin Ester, Hans-Peter Kriegel, Jörg Sander, Xiaowei Xu (1996). "A
 density-based algorithm for discovering clusters in large spatial
 databases with noise".  Proceedings of the Second International
 Conference on Knowledge Discovery and Data Mining (KDD-96). AAAI
 Press. pp. 226-231.

</ul>

<hr>

<h3>Example Segmentation</h3>

<p><img src="hallettcove.png"><br>
Original image.  Hallett Cove, South Australia

<p><img src="hallettcove_slic.png"><br> Superpixels generated by
SLIC

<p align="justify"> The following code segments the image into 3000
superpixels using a weighting factor of 10 relating spatial distances
to colour distances, resulting superpixels of area less than 10 pixels
are eliminated, and superpixel attributes are computed from the median
colour values.  Note I prefer to use a relative low weighting of
spatial distance to colour distance in forming superpixels.  The SLIC
algorithm does not enforce continuity of superpixels which means that
superpixels can break up unto multiple regions if the pixels within a
region are significantly different and the superpixel weighting of
spatial distance to colour distance is low.  This is not a problem,
indeed I consider it an advantage because it means that with a low
weighting you reduce the chance of undersegmenting an image and the
fidelity of feature boundaries is better preserved.  The disjoint
superpixels are made distinct by the functions cleanupregions.m or
mcleanupregions.m.  Note also that the superpixel seed points have
been initialised in a hexagonal grid rather than a square one.  The
idea is that this results in a segmentation that will be nominally
6-connected which hopefully facilitates any subsequent post-processing
that seeks to merge superpixels.
<pre>
>> [l, Am, C] = slic(im, 3000, 10, 1, 'median');
>> show(drawregionboundaries(l, im, [255 255 255]))
</pre>


<p><img src="hallettcove_spdbscan.png"><br>
Clustering of superpixels using DBSCAN
<p align="justify"> Here I have chosen a L*a*b*
colour difference threshold of 5.  Small changes in this value can
have a significant effect.
<pre>
>> lc = spdbscan(l, C, Am, 5);
>> show(drawregionboundaries(lc, im, [255 255 255]))
</pre


<p><img src="coral.png" width="800">
<p align="justify"> An example of this approach applied to a coral
image.  As with the Hallett Cove image the result is somewhat
oversegmented (and undersegmented in some areas too).  Segmentation
based just on colour is not sufficient, some texture information is
needed too.


<hr>

<h3>MATLAB code:</h3>
<ul>

<li><a href="http://www.peterkovesi.com/matlabfns/Spatial/slic.m">slic.m</a>
Implementation of Achanta, Shaji, Smith, Lucchi, Fua and Susstrunk's
SLIC Superpixels.

<p><li><a href="http://www.peterkovesi.com/matlabfns/Spatial/spdbscan.m">
spdbscan.m</a> Implements DBSCAN clustering of superpixels.

<p><li><a href="http://www.peterkovesi.com/matlabfns/Spatial/cleanupregions.m">
cleanupregions.m</a> Cleans up small regions in a segmentation. Used by slic.m

<p><li><a href="http://www.peterkovesi.com/matlabfns/Spatial/mcleanupregions.m">
mcleanupregions.m</a> Morphological version of cleanupregions.m The
output is not quite as nice but the execution is much faster.

<p><li><a href="http://www.peterkovesi.com/matlabfns/Spatial/finddisconnected.m">finddisconnected.m</a>
Finds groupings of disconnected labeled regions. Used by
mcleanupregions.m to reduce execution time.

<p><li><a href="http://www.peterkovesi.com/matlabfns/Spatial/makeregionsdistinct.m">makeregionsdistinct.m</a>
Ensures labeled regions are distinct.

<p><li><a href="http://www.peterkovesi.com/matlabfns/Spatial/renumberregions.m">
renumberregions.m</a> Ensures all regions in labeled image have a
unique label and that the label numbering forms a contiguous sequence.

<p><li><a href="http://www.peterkovesi.com/matlabfns/Spatial/regionadjacency.m">
regionadjacency.m</a> Computes adjacency matrix for an image of labeled segmented regions.

<p><li><a href="http://www.peterkovesi.com/matlabfns/Spatial/drawregionboundaries.m">
drawregionboundaries.m</a> Draw boundaries of labeled regions in an
image.

<p><li><a href="http://www.peterkovesi.com/matlabfns/Spatial/maskimage.m">
maskimage.m</a> used by drawregionboundaries.m

<p><li><a href="http://www.peterkovesi.com/matlabfns/Misc/rgb2lab.m">rgb2lab.m</a>
Convenience function for converting an image from RGB to L*a*b* colour space.

<p><li><a href="http://www.peterkovesi.com/matlabfns/Misc/circularstruct.m">circularstruct.m</a>
Generates a circular structuring element, used by mcleanupregions.m

<p><li><a href="http://www.peterkovesi.com/matlabfns/Misc/dbscan.m">dbscan.m</a> Basic
implementation of DBSCAN

<p><li><a href="http://www.peterkovesi.com/matlabfns/Misc/testdbscan.m">testdbscan.m</a>
Function to test/demonstrate dbscan.m


</ul>

It is possible that I have missed some function dependencies above.
If so rummage through the rest of my functions
at <a href="http://www.peterkovesi.com/matlabfns/index.html">MATLAB
and Octave Functions for Computer Vision and Image Processing</a>





<p>&nbsp;
<hr>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-34304019-1', 'auto');
  ga('send', 'pageview');

</script>


</body>
</html>
